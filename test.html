<html>
  <head>
    <script src="//cdnjs.cloudflare.com/ajax/libs/zepto/1.1.6/zepto.min.js"></script>
    <script src="test-credentials.js"></script>
    <script src="lib/cip.js/dist/cip.js"></script>
    <script src="src/natmus.js" charset="utf-8"></script>
  </head>

  <body>
    <button id="test1">Test 1</button>
    <button id="test2">Test 2</button>
    <script>
    nm = new CIPClient(NatMusConfig);

    nm.sessionOpen(CIP_USERNAME, CIP_PASSWORD).then(function(response) {
      console.log('Session opened', response);
      $('#test1').click(function() {
        console.log('Starting test #1');
        nm.getCatalogs().then(function(catalogs) {
          console.log('Catalogs', catalogs);
          return catalogs[1].getTables().then(function(tables) {
            return tables[0].search("b").then(function(results) {
              return results.get(100);
            });
          });
        }).then(function(assets) {
          console.log(assets);
        });
      });

      $('#test2').click(function() {
      });

    });
    </script>
  </body>
</html>
